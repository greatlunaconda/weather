ãƒ•ã‚¡ã‚¤ãƒ«å†…å„è¡Œã®æ­£è¦è¡¨ç¾(\d\d\d)\s+(\w+)\s+(.*?)\s+(\d\dd(?:\s+\d\dn)?) ã‚’å¾Œæ–¹å‚ç…§ã‚’ä½¿ç”¨ã—ã¦["\1", "\2",  "\3", "\4"]ã¨æ›¸ãæ›ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’sed, awk, python(ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä¸Šã§è¡¨è¨˜)è¡¨ç¤ºã—ã¦ä¸‹ã•ã„ã€‚ã¾ãŸãã®çµæœã‚’è¡¨ç¤ºã—ã¦ä¸‹ã•ã„ã€‚ ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ ä¾‹[ "200",	"Thunderstorm",	"thunderstorm with light rain",	 "11d"]
     ["201",	"Thunderstorm",	thunderstorm with rain",	 "11d"]
ChatGPT:

ã§ã¯ã€weathertable.txt ã®å„è¡Œã‚’æ­£è¦è¡¨ç¾ (\d\d\d)\s+(\w+)\s+(.*?)\s+(\d\dd(?:\s+\d\dn)?) ã«ãƒãƒƒãƒã•ã›ã€å¾Œæ–¹å‚ç…§ã‚’ä½¿ã£ã¦ ["\1", "\2", "\3", "\4"] ã®å½¢å¼ã«å¤‰æ›ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ä¾‹ã‚’ sed, awk, python ã§ç¤ºã—ã¾ã™ã€‚

1. sed ç‰ˆ
sed -E 's/([0-9]{3})[[:space:]]+([A-Za-z]+)[[:space:]]+(.*?)[[:space:]]+([0-9]{2}d(?:[[:space:]]+[0-9]{2}n)?)/["\1", "\2", "\3", "\4"]/g' weathertable.txt

2. awk ç‰ˆ
awk '{
  match($0, /([0-9]{3})[ \t]+([A-Za-z]+)[ \t]+(.*?)[ \t]+([0-9]{2}d([ \t]+[0-9]{2}n)?)/, m);
  if (m[0] != "") {
    print "[\"" m[1] "\", \"" m[2] "\", \"" m[3] "\", \"" m[4] "\"]";
  }
}' weathertable.txt

3. python (ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼) ç‰ˆ
python3 -c "import re,sys;print('\n'.join(re.sub(r'([0-9]{3})\\s+([A-Za-z]+)\\s+(.*?)\\s+([0-9]{2}d(?:\\s+[0-9]{2}n)?)', r'[\"\\1\", \"\\2\", \"\\3\", \"\\4\"]', l.strip()) for l in sys.stdin))" < weathertable.txt

å®Ÿè¡Œçµæœä¾‹ï¼ˆæœ€åˆã®æ•°è¡Œï¼‰
["200", "Thunderstorm", "thunderstorm with light rain", "11d"]
["201", "Thunderstorm", "thunderstorm with rain", "11d"]
["202", "Thunderstorm", "thunderstorm with heavy rain", "11d"]
["210", "Thunderstorm", "light thunderstorm", "11d"]
["211", "Thunderstorm", "thunderstorm", "11d"]


ã‚‚ã—å¸Œæœ›ãŒã‚ã‚Œã°ã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä»Šã“ã“ã§å®Ÿè¡Œã—ã¦å…¨è¡Œã®å¤‰æ›çµæœã‚’è¡¨ç¤ºã§ãã¾ã™ãŒã€ã‚„ã‚Šã¾ã™ã‹ï¼Ÿ
ãã†ã™ã‚Œã° weathertable.txt å…¨ä½“ã‚’ JSON é…åˆ—ã®ã‚ˆã†ã«åŠ å·¥ã§ãã¾ã™ã€‚

ã‚ãªãŸ:
å…¨è¡Œã‚’å¤‰æ›ã—ã¦ï¼’é‡é…åˆ—ã®jsonã®æ§˜ã«è¡¨ç¤ºã—ã¦ä¸‹ã•ã„ã€‚
ChatGPT:

å…¨è¡Œã‚’å¤‰æ›ã—ã¦äºŒé‡é…åˆ—ã® JSON ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã—ãŸã€‚
ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚

ğŸ“„ weathertable.json 
